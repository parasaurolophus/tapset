The [tapset](https://code.google.com/p/tapset/source/browse/#hg%2Ftapset) [Eclipse](http://www.eclipse.org) project contains the source code for the core app, itself. It relies on the [nfc](nfcLibrary.md) and [fileprovider](fileproviderLibrary.md) library projects in the same [Eclipse](http://www.eclipse.org) workspace as well as pre-compiled libraries based on the [zxing](https://code.google.com/p/zxing/) open-source library project.

This source code demonstrates the following features of the Android platform:

  * UI elements that adapt to different screen sizes using [Fragment](http://developer.android.com/reference/android/app/Fragment.html)
  * Scanning and writing NFC tags using [NfcAdapter](http://developer.android.com/reference/android/nfc/NfcAdapter.html)
  * Sharing data and services between apps using [Intent](http://developer.android.com/reference/android/content/Intent.html) and a published [ContentProvider](http://developer.android.com/reference/android/content/ContentProvider.html)

It also demonstrates a number of general-purpose Java and object-oriented programming concepts, including:

  * Polymorphism (code re-use through inheritance)
  * Concurrency (multi-threaded programming)
  * Generics (Java's version of parameterized types)

The "main" `Activity`is [SettingsItemListActivity](https://code.google.com/p/tapset/source/browse/tapset/src/us/rader/tapset/SettingsItemListActivity.java), i.e. that is the `Activity` published in [AndroidManifest.xml](https://code.google.com/p/tapset/source/browse/tapset/AndroidManifest.xml) with action [MAIN](http://developer.android.com/reference/android/content/Intent.html#ACTION_MAIN) and category [LAUNCHER](http://developer.android.com/reference/android/content/Intent.html#CATEGORY_LAUNCHER) in its [IntentFilter](http://developer.android.com/reference/android/content/IntentFilter.html).

The `SettingsItemListActivity` will display [SettingsItemListFragment](https://code.google.com/p/tapset/source/browse/tapset/src/us/rader/tapset/SettingsItemListFragment.java) by itself on devices with smaller screens, or both `SettingsItemListFragment` and [SettingsItemDetailFragment](https://code.google.com/p/tapset/source/browse/tapset/src/us/rader/tapset/SettingsItemDetailFragment.java) on devices where space allows. The "list" fragment presents a UI for choosing among different types of settings while the "detail" fragment presents the UI for the currently selected list item. On screens where `SettingsItemListActivity` displays only `SettingsItemListFragment`, an instance of [SettingsItemDetailActivity](https://code.google.com/p/tapset/source/browse/tapset/src/us/rader/tapset/SettingsItemDetailActivity.java) will be used to display the "detail" fragment and the "back" button will return to the "list" `Activity`. This is the typical "master / detail flow" Android UI paradigm, and the skeleton for these classes was generated by the "new app" wizard that is part of the Android ADT plug-in for `Eclipse`.

In addition to the "list" and "detail" activities, _tapset_ defines [WriteTagActivity](https://code.google.com/p/tapset/source/browse/tapset/src/us/rader/tapset/WriteTagActivity.java), that extends [NdefWriterActivity](https://code.google.com/p/tapset/source/browse/nfc/src/us/rader/nfc/NdefWriterActivity.java) to write settings values to NFC tags and [ShowQrCodeActivity](https://code.google.com/p/tapset/source/browse/tapset/src/us/rader/tapset/ShowQrCodeActivity.java) that uses the open-source [zxing](https://code.google.com/p/zxing/) library to display and share settings values as QR codes.

The model that is presented by the UI classes described above is represented by the [SettingsItem](https://code.google.com/p/tapset/source/browse/tapset/src/us/rader/tapset/settingsitems/SettingsItem.java) class hierarchy. Each concrete class derived from `SettingsItem` represents the state of the values presented by a given "details" fragment's dynamically inflated UI elements.

`[`MVC purists will note that as with most Android apps, the `Activity` and `Fragment` classes here are a bit of a mish-mash between view and controller, while the `SettingsItem` hierarchy similarly blur the lines between model and view. This is partly a consequence of the design of the underlying Android class library and partly a deliberate attempt to keep the example code reasonably small and easy to understand.`]`